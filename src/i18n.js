(function () {
    if (window.OrbitI18n) return;

    class OrbitI18n {
        constructor() {
            this.currentLang = 'en';
            this.translations = {
                en: {
                    title: "Orbit",
                    start: "Scan Non-Followers",
                    stop: "Stop",
                    loading: "Loading...",
                    analyzing: "Finding non-followers...",
                    found: "Non-Followers Found",
                    totalFollowers: "Total Followers",
                    searchPlaceholder: "Filter by name or username...",
                    maxFollowers: "Max Followers",
                    speedSafe: "Safe (Recommended)",
                    speedFast: "Fast",
                    speedTurbo: "Turbo (Risky)",
                    speedSafeDesc: "Slow speed to avoid Instagram limits. Best for safety.",
                    speedFastDesc: "Faster speed. Good for small accounts.",
                    speedTurboDesc: "Very fast. High risk of temporary block.",
                    loadStats: "Load Stats",
                    statsLoaded: "Stats Loaded",
                    unfollow: "Unfollow",
                    unfollowing: "Unfollowing...",
                    unfollowed: "Unfollowed",
                    error: "Error",
                    finished: "Scan Complete!",
                    noNonFollowers: "Congrats! Everyone follows you back.",
                    loginError: "Could not detect Instagram login. Please refresh and log in.",
                    confirmTurbo: "⚠️ WARNING: Turbo mode is very fast and carries a high risk of temporary blocks.\n\nUse at your own risk. Continue?",
                    statusReady: "Ready",
                    fans: "Fans",
                    mutuals: "Mutuals",
                    nonFollowers: "Non-Followers",
                    whitelist: "Whitelist",
                    addToWhitelist: "Add to Whitelist",
                    removeFromWhitelist: "Remove from Whitelist",
                    upgradeToSee: "Upgrade to see more",
                    hiddenUser: "Hidden User",
                    unlockPro: "Unlock Pro"
                },
                pt: {
                    title: "Orbit",
                    start: "Buscar Não Seguidores",
                    stop: "Parar",
                    loading: "Carregando...",
                    analyzing: "Buscando quem não te segue...",
                    found: "Não Seguidores",
                    totalFollowers: "Seguidores Totais",
                    searchPlaceholder: "Filtrar por nome ou usuário...",
                    maxFollowers: "Max Seguidores",
                    speedSafe: "Seguro (Recomendado)",
                    speedFast: "Rápido",
                    speedTurbo: "Turbo (Arriscado)",
                    speedSafeDesc: "Velocidade lenta para evitar bloqueios. Mais seguro.",
                    speedFastDesc: "Velocidade média. Bom para contas pequenas.",
                    speedTurboDesc: "Muito rápido. Alto risco de bloqueio temporário.",
                    loadStats: "Carregar Stats",
                    statsLoaded: "Stats Carregados",
                    unfollow: "Deixar de Seguir",
                    unfollowing: "Removendo...",
                    unfollowed: "Removido",
                    error: "Erro",
                    finished: "Varredura Concluída!",
                    noNonFollowers: "Parabéns! Todos te seguem de volta.",
                    loginError: "Não foi possível detectar o login. Recarregue a página.",
                    confirmTurbo: "⚠️ ATENÇÃO: O modo Turbo é muito rápido e tem alto risco de bloqueio.\n\nUse por sua conta e risco. Continuar?",
                    statusReady: "Pronto",
                    fans: "Fãs",
                    mutuals: "Mútuos",
                    nonFollowers: "Não Seguidores",
                    whitelist: "Lista Branca",
                    addToWhitelist: "Adicionar à Lista Branca",
                    removeFromWhitelist: "Remover da Lista Branca",
                    upgradeToSee: "Melhore para ver mais",
                    hiddenUser: "Usuário Oculto",
                    unlockPro: "Desbloquear Pro"
                },
                de: {
                    title: "Orbit",
                    start: "Starten",
                    stop: "Stoppen",
                    loading: "Laden...",
                    analyzing: "Analysieren...",
                    found: "Gefunden",
                    totalFollowers: "Gesamt Follower",
                    searchPlaceholder: "Nach Name oder Benutzer filtern...",
                    maxFollowers: "Max Follower",
                    speedSafe: "Sicher (Empfohlen)",
                    speedFast: "Schnell",
                    speedTurbo: "Turbo (Riskant)",
                    speedSafeDesc: "Langsam, um Sperren zu vermeiden. Am sichersten.",
                    speedFastDesc: "Schneller. Gut für kleine Konten.",
                    speedTurboDesc: "Sehr schnell. Hohes Risiko einer vorübergehenden Sperre.",
                    loadStats: "Statistiken laden",
                    statsLoaded: "Statistiken geladen",
                    unfollow: "Entfolgen",
                    unfollowing: "Entfolgen...",
                    unfollowed: "Entfolgt",
                    error: "Fehler",
                    finished: "Scan abgeschlossen!",
                    noNonFollowers: "Glückwunsch! Alle folgen dir zurück.",
                    loginError: "Instagram-Login nicht erkannt. Bitte neu laden.",
                    confirmTurbo: "⚠️ WARNUNG: Turbo-Modus ist sehr schnell und riskant.\n\nAuf eigene Gefahr. Fortfahren?",
                    statusReady: "Bereit",
                    fans: "Fans",
                    mutuals: "Gegenseitig",
                    nonFollowers: "Nicht-Follower",
                    whitelist: "Whitelist",
                    addToWhitelist: "Zur Whitelist hinzufügen",
                    removeFromWhitelist: "Von Whitelist entfernen",
                    upgradeToSee: "Upgrade für mehr",
                    hiddenUser: "Versteckter Benutzer",
                    unlockPro: "Pro freischalten"
                },
                fr: {
                    title: "Orbit",
                    start: "Démarrer",
                    stop: "Arrêter",
                    loading: "Chargement...",
                    analyzing: "Analyse...",
                    found: "Trouvé",
                    totalFollowers: "Abonnés Totaux",
                    searchPlaceholder: "Filtrer par nom ou utilisateur...",
                    maxFollowers: "Max Abonnés",
                    speedSafe: "Sûr (Recommandé)",
                    speedFast: "Rapide",
                    speedTurbo: "Turbo (Risqué)",
                    speedSafeDesc: "Lent pour éviter les blocages. Le plus sûr.",
                    speedFastDesc: "Plus rapide. Bon pour les petits comptes.",
                    speedTurboDesc: "Très rapide. Haut risque de blocage temporaire.",
                    loadStats: "Charger Stats",
                    statsLoaded: "Stats Chargées",
                    unfollow: "Se désabonner",
                    unfollowing: "Désabonnement...",
                    unfollowed: "Désabonné",
                    error: "Erreur",
                    finished: "Scan terminé !",
                    noNonFollowers: "Félicitations ! Tout le monde vous suit.",
                    loginError: "Connexion Instagram non détectée. Veuillez rafraîchir.",
                    confirmTurbo: "⚠️ ATTENTION : Le mode Turbo est risqué.\n\nContinuer à vos risques et périls ?",
                    statusReady: "Prêt",
                    fans: "Fans",
                    mutuals: "Mutuels",
                    nonFollowers: "Non-Abonnés",
                    whitelist: "Liste Blanche",
                    addToWhitelist: "Ajouter à la liste blanche",
                    removeFromWhitelist: "Retirer de la liste blanche",
                    upgradeToSee: "Mise à niveau requise",
                    hiddenUser: "Utilisateur masqué",
                    unlockPro: "Débloquer Pro"
                },
                es: {
                    title: "Orbit",
                    start: "Iniciar",
                    stop: "Detener",
                    loading: "Cargando...",
                    analyzing: "Analizando...",
                    found: "Encontrados",
                    totalFollowers: "Seguidores Totales",
                    searchPlaceholder: "Filtrar por nombre o usuario...",
                    maxFollowers: "Max Seguidores",
                    speedSafe: "Seguro (Recomendado)",
                    speedFast: "Rápido",
                    speedTurbo: "Turbo (Arriesgado)",
                    speedSafeDesc: "Lento para evitar bloqueos. Más seguro.",
                    speedFastDesc: "Más rápido. Bueno para cuentas pequeñas.",
                    speedTurboDesc: "Muy rápido. Alto riesgo de bloqueo temporal.",
                    loadStats: "Cargar Estadísticas",
                    statsLoaded: "Estadísticas Cargadas",
                    unfollow: "Dejar de Seguir",
                    unfollowing: "Dejando de seguir...",
                    unfollowed: "Dejado de seguir",
                    error: "Error",
                    finished: "¡Escaneo completado!",
                    noNonFollowers: "¡Felicidades! Todos te siguen de vuelta.",
                    loginError: "No se detectó inicio de sesión. Actualiza la página.",
                    confirmTurbo: "⚠️ ADVERTENCIA: El modo Turbo es arriesgado.\n\n¿Continuar bajo tu propio riesgo?",
                    statusReady: "Listo",
                    fans: "Fans",
                    mutuals: "Mutuos",
                    nonFollowers: "No Seguidores",
                    whitelist: "Lista Blanca",
                    addToWhitelist: "Añadir a Lista Blanca",
                    removeFromWhitelist: "Eliminar de Lista Blanca",
                    upgradeToSee: "Mejora para ver más",
                    hiddenUser: "Usuario Oculto",
                    unlockPro: "Desbloquear Pro"
                },
                it: {
                    title: "Orbit",
                    start: "Avvia",
                    stop: "Stop",
                    loading: "Caricamento...",
                    analyzing: "Analisi...",
                    found: "Trovati",
                    totalFollowers: "Follower Totali",
                    searchPlaceholder: "Filtra per nome o utente...",
                    maxFollowers: "Max Follower",
                    speedSafe: "Sicuro (Consigliato)",
                    speedFast: "Veloce",
                    speedTurbo: "Turbo (Rischioso)",
                    speedSafeDesc: "Lento per evitare blocchi. Più sicuro.",
                    speedFastDesc: "Più veloce. Buono per piccoli account.",
                    speedTurboDesc: "Molto veloce. Alto rischio di blocco temporaneo.",
                    loadStats: "Carica Statistiche",
                    statsLoaded: "Statistiche Caricate",
                    unfollow: "Smetti di seguire",
                    unfollowing: "Rimozione...",
                    unfollowed: "Rimosso",
                    error: "Errore",
                    finished: "Scansione completata!",
                    noNonFollowers: "Congratulazioni! Tutti ti seguono.",
                    loginError: "Login non rilevato. Ricarica la pagina.",
                    confirmTurbo: "⚠️ ATTENZIONE: La modalità Turbo è rischiosa.\n\nContinuare a proprio rischio?",
                    statusReady: "Pronto",
                    fans: "Fan",
                    mutuals: "Reciproci",
                    nonFollowers: "Non Follower",
                    whitelist: "Whitelist",
                    addToWhitelist: "Aggiungi alla Whitelist",
                    removeFromWhitelist: "Rimuovi dalla Whitelist",
                    upgradeToSee: "Aggiorna per vedere altro",
                    hiddenUser: "Utente Nascosto",
                    unlockPro: "Sblocca Pro"
                }
            };
        }

        setLanguage(lang) {
            if (this.translations[lang]) {
                this.currentLang = lang;
            }
        }

        t(key) {
            return this.translations[this.currentLang][key] || this.translations['en'][key] || key;
        }
    }

    // Expose globally
    window.OrbitI18n = OrbitI18n;
})();
